{{/* Theory Variant B: Blueprint + Outcomes */}}
{{ $id := .id }}

<defs>
  <marker id="vBArrow-{{ $id }}" markerWidth="7" markerHeight="5" refX="6" refY="2.5" orient="auto" markerUnits="strokeWidth">
    <path d="M0,0 L7,2.5 L0,5 z" fill="#5c6b80"/>
  </marker>
  <linearGradient id="vBblue-{{ $id }}" x1="0" y1="0" x2="0" y2="1">
    <stop offset="0%" stop-color="#60A5FA"/>
    <stop offset="100%" stop-color="#3B82F6"/>
  </linearGradient>
  <linearGradient id="vBgreen-{{ $id }}" x1="0" y1="0" x2="0" y2="1">
    <stop offset="0%" stop-color="#4ADE80"/>
    <stop offset="100%" stop-color="#22C55E"/>
  </linearGradient>
  <linearGradient id="vBorange-{{ $id }}" x1="0" y1="0" x2="0" y2="1">
    <stop offset="0%" stop-color="#FFD166"/>
    <stop offset="100%" stop-color="#FF9F1C"/>
  </linearGradient>
  <linearGradient id="vBred-{{ $id }}" x1="0" y1="0" x2="0" y2="1">
    <stop offset="0%" stop-color="#A78BFA"/>
    <stop offset="100%" stop-color="#8B5CF6"/>
  </linearGradient>
  <linearGradient id="vBchipGreen-{{ $id }}" x1="0" y1="0" x2="1" y2="0">
    <stop offset="0%" stop-color="#205437"/>
    <stop offset="100%" stop-color="#1b462f"/>
  </linearGradient>
  <linearGradient id="vBchipBlue-{{ $id }}" x1="0" y1="0" x2="1" y2="0">
    <stop offset="0%" stop-color="#1f4b7d"/>
    <stop offset="100%" stop-color="#1a3f69"/>
  </linearGradient>
  <linearGradient id="vBchipOrange-{{ $id }}" x1="0" y1="0" x2="1" y2="0">
    <stop offset="0%" stop-color="#6a421d"/>
    <stop offset="100%" stop-color="#5a3718"/>
  </linearGradient>
</defs>

<g transform="translate(64,300)">
  <rect x="0" y="0" width="930" height="280" rx="18" fill="#10243b" fill-opacity=".82" stroke="#3B82F6" stroke-opacity=".52" stroke-width="1.5"/>

  <text x="34" y="42" fill="#c7daf7" font-family="Inter,system-ui,sans-serif" font-size="22" font-weight="620">How the compiler thinks</text>

  <g transform="translate(34,56)">
    <g stroke="#5b6f8f" stroke-width="3" fill="none" stroke-linecap="round" marker-end="url(#vBArrow-{{ $id }})" opacity=".9">
      <path d="M132,76 L214,76"/>
      <path d="M302,76 L386,76"/>
      <path d="M474,76 L558,76"/>
      <path d="M646,76 L730,76"/>
      <path d="M302,76 L302,150 L386,150"/>
    </g>

    <rect x="0" y="44" width="132" height="64" rx="32" fill="url(#vBblue-{{ $id }})"/>
    <rect x="214" y="44" width="132" height="64" rx="32" fill="url(#vBblue-{{ $id }})"/>
    <rect x="386" y="44" width="132" height="64" rx="32" fill="url(#vBorange-{{ $id }})"/>
    <rect x="558" y="44" width="132" height="64" rx="32" fill="url(#vBgreen-{{ $id }})"/>
    <rect x="730" y="44" width="138" height="64" rx="32" fill="url(#vBred-{{ $id }})"/>
    <rect x="386" y="118" width="132" height="64" rx="32" fill="url(#vBorange-{{ $id }})"/>

    <g fill="#f5f8ff" font-family="Inter,system-ui,sans-serif" font-size="18" font-weight="680" text-anchor="middle">
      <text x="66" y="84">Declare</text>
      <text x="280" y="84">Analyze</text>
      <text x="452" y="84">Compile</text>
      <text x="624" y="84">Execute</text>
      <text x="798" y="84">Present</text>
      <text x="452" y="158">Cull</text>
    </g>
  </g>

  <rect x="1002" y="22" width="438" height="74" rx="14" fill="url(#vBchipGreen-{{ $id }})"/>
  <text x="1221" y="68" text-anchor="middle" fill="#ecfff4" font-family="Inter,system-ui,sans-serif" font-size="25" font-weight="740">BUILD A MENTAL MODEL</text>

  <rect x="1002" y="110" width="438" height="74" rx="14" fill="url(#vBchipBlue-{{ $id }})"/>
  <text x="1221" y="156" text-anchor="middle" fill="#ecf5ff" font-family="Inter,system-ui,sans-serif" font-size="25" font-weight="740">REASON ABOUT BARRIERS</text>

  <rect x="1002" y="198" width="438" height="74" rx="14" fill="url(#vBchipOrange-{{ $id }})"/>
  <text x="1221" y="244" text-anchor="middle" fill="#fff7e8" font-family="Inter,system-ui,sans-serif" font-size="25" font-weight="740">DEBUG FASTER</text>
</g>