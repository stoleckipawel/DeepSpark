{{/*  Inner artwork for "Frame Graph: Beyond MVP" thumbnail.
      Receives dict: .id (SVG-ID namespace)
      Modernised: value-line → side-by-side before/after → outcome chips  */}}
{{ $id := .id }}

{{/* ── Value line ──────────────────────────────────────────── */}}
<text x="54" y="256" fill="#b2c2de" font-family="Inter,system-ui,sans-serif"
      font-size="24" font-weight="520">Async compute &amp; split barriers for better GPU utilization</text>

{{/* ── Before / After timeline comparison ──────────────────── */}}
<g transform="translate(54, 310)">
  {{/* ── BEFORE: full barrier with stall ───────────────────── */}}
  <rect x="0" y="0" width="620" height="166" rx="14" fill="#1a1408" fill-opacity=".7"
        stroke="#F59E0B" stroke-opacity=".14" stroke-width="1.2"/>
  <text x="24" y="34" fill="#c8a050" font-family="Inter,system-ui,sans-serif"
        font-size="20" font-weight="700">FULL BARRIER</text>
  <line x1="24" y1="56" x2="596" y2="56" stroke="#4a3d24" stroke-opacity=".5" stroke-width="1"/>
  <line x1="32" y1="86" x2="560" y2="86" stroke="#F59E0B" stroke-width="16"
        stroke-linecap="round" opacity=".55"/>
  <line x1="32" y1="118" x2="560" y2="118" stroke="#F59E0B" stroke-width="16"
        stroke-linecap="round" opacity=".35"/>
  <rect x="228" y="72" width="100" height="60" rx="8" fill="#2a1210" fill-opacity=".9"
        stroke="#ef4444" stroke-opacity=".3" stroke-width="1"/>
  <text x="278" y="108" text-anchor="middle" fill="#f0a0a0"
        font-family="JetBrains Mono,Fira Code,monospace" font-size="14" font-weight="700">STALL</text>
  <text x="576" y="91" fill="#d4a050" font-family="JetBrains Mono,Fira Code,monospace"
        font-size="12" font-weight="600" text-anchor="end" opacity=".5">GFX</text>
  <text x="576" y="123" fill="#d4a050" font-family="JetBrains Mono,Fira Code,monospace"
        font-size="12" font-weight="600" text-anchor="end" opacity=".4">CS</text>

  {{/* ── AFTER: split barrier with overlap ─────────────────── */}}
  <rect x="650" y="0" width="620" height="166" rx="14" fill="#1e1a0a" fill-opacity=".7"
        stroke="#F59E0B" stroke-opacity=".24" stroke-width="1.2"/>
  <text x="674" y="34" fill="#eab540" font-family="Inter,system-ui,sans-serif"
        font-size="20" font-weight="700">SPLIT BARRIER</text>
  <line x1="674" y1="56" x2="1246" y2="56" stroke="#4a3d24" stroke-opacity=".5" stroke-width="1"/>
  <line x1="682" y1="86" x2="1210" y2="86" stroke="#F59E0B" stroke-width="16"
        stroke-linecap="round" opacity=".7"/>
  <line x1="720" y1="118" x2="1248" y2="118" stroke="#F59E0B" stroke-width="16"
        stroke-linecap="round" opacity=".5"/>

  {{/* Overlap dashed markers */}}
  <line x1="860" y1="72" x2="860" y2="132" stroke="#fcd34d" stroke-width="1.5" stroke-dasharray="4 3"/>
  <line x1="1060" y1="72" x2="1060" y2="132" stroke="#fcd34d" stroke-width="1.5" stroke-dasharray="4 3"/>
  <text x="960" y="152" text-anchor="middle" fill="#fde68a"
        font-family="JetBrains Mono,Fira Code,monospace" font-size="13" font-weight="600">overlap</text>
</g>

{{/* ── Outcome chips ───────────────────────────────────────── */}}
<g transform="translate(54, 524)">
  <rect x="0" y="0" width="270" height="44" rx="10" fill="#18130a"
        stroke="#F59E0B" stroke-opacity=".14" stroke-width="1"/>
  <text x="135" y="29" text-anchor="middle" fill="#b08840"
        font-family="Inter,system-ui,sans-serif" font-size="17" font-weight="640">MORE GPU OVERLAP</text>

  <rect x="288" y="0" width="230" height="44" rx="10" fill="#18130a"
        stroke="#F59E0B" stroke-opacity=".14" stroke-width="1"/>
  <text x="403" y="29" text-anchor="middle" fill="#b08840"
        font-family="Inter,system-ui,sans-serif" font-size="17" font-weight="640">FEWER STALLS</text>

  <rect x="536" y="0" width="310" height="44" rx="10" fill="#18130a"
        stroke="#F59E0B" stroke-opacity=".14" stroke-width="1"/>
  <text x="691" y="29" text-anchor="middle" fill="#b08840"
        font-family="Inter,system-ui,sans-serif" font-size="17" font-weight="640">HIGHER FRAME BUDGET</text>
</g>

