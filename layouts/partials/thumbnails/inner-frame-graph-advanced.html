{{/*  Inner artwork for "Frame Graph: Beyond MVP" thumbnail.
      Receives dict: .id (SVG-ID namespace)  */}}
{{ $id := .id }}

{{/* ── Extra defs ──────────────────────────────────────────── */}}
<defs>
  <filter id="nodeGlow-{{ $id }}" x="-40%" y="-40%" width="180%" height="180%">
    <feDropShadow dx="0" dy="0" stdDeviation="6" flood-color="#8defff" flood-opacity=".5"/>
  </filter>
</defs>

{{/* ── Left side: feature headlines + bar chart ────────────── */}}
<text x="54" y="254" fill="#f7faff" font-family="Inter,system-ui,sans-serif"
      font-size="46" font-weight="900">ASYNC COMPUTE</text>
<text x="54" y="316" fill="#57f08d" font-family="Inter,system-ui,sans-serif"
      font-size="46" font-weight="900">SPLIT BARRIERS</text>
<text x="54" y="382" fill="#b2c2de" font-family="Inter,system-ui,sans-serif"
      font-size="24">Queue overlap · Fence reduction · Better throughput</text>

<g transform="translate(54,402)">
  <text x="0" y="28" fill="#ffcf9d" font-family="Inter,system-ui,sans-serif"
        font-size="21" font-weight="900">FULL BARRIER</text>

  <polygon points="58,38 486,38 462,62 54,62" fill="#1b3554"/>
  <polygon points="58,83 486,83 462,107 54,107" fill="#1b3554"/>
  <polygon points="58,38 210,38 198,62 54,62" fill="#5ec6ff"/>
  <polygon points="340,83 486,83 462,107 326,107" fill="#57f08d"/>

  <polygon points="230,32 346,32 324,113 208,113" fill="#5b3232" opacity=".86"/>
  <text x="277" y="80" text-anchor="middle" fill="#ffd8bd"
        font-family="JetBrains Mono,Fira Code,monospace" font-size="14" font-weight="800">STALL</text>

  <text x="548" y="28" fill="#8dffba" font-family="Inter,system-ui,sans-serif"
        font-size="21" font-weight="900">SPLIT BARRIER</text>

  <polygon points="604,38 1088,38 1064,62 600,62" fill="#1b3554"/>
  <polygon points="604,83 1088,83 1064,107 600,107" fill="#1b3554"/>
  {{/* segmented work blocks to imply multiple passes */}}
  <polygon points="604,38 694,38 682,62 600,62" fill="#5ec6ff"/>
  <polygon points="714,38 798,38 786,62 706,62" fill="#5ec6ff" opacity=".96"/>
  <polygon points="818,38 904,38 892,62 810,62" fill="#5ec6ff" opacity=".92"/>
  <polygon points="928,38 1020,38 1008,62 920,62" fill="#5ec6ff" opacity=".9"/>

  <polygon points="658,83 746,83 734,107 650,107" fill="#57f08d"/>
  <polygon points="770,83 858,83 846,107 762,107" fill="#57f08d" opacity=".96"/>
  <polygon points="884,83 970,83 958,107 876,107" fill="#57f08d" opacity=".92"/>
  <polygon points="996,83 1088,83 1064,107 988,107" fill="#57f08d" opacity=".9"/>

  {{/* single split barrier span: start and finish */}}
  <line x1="744" y1="30" x2="744" y2="113" stroke="#ffb974" stroke-width="3" stroke-dasharray="6 6"/>
  <line x1="984" y1="30" x2="984" y2="113" stroke="#ffb974" stroke-width="3" stroke-dasharray="6 6"/>

  <circle cx="744" cy="74" r="7" fill="#ffb974"/>
  <circle cx="984" cy="74" r="7" fill="#ffd7ad"/>

  <path d="M744 124 C794 140, 914 140, 984 124" fill="none" stroke="#ffd9b1" stroke-width="3"/>
  <polygon points="984,124 972,119 974,131" fill="#ffd9b1"/>
  <text x="742" y="136" fill="#ffd4a8" font-family="JetBrains Mono,Fira Code,monospace"
        font-size="12" font-weight="700">start</text>
  <text x="986" y="136" text-anchor="end" fill="#ffe2c5" font-family="JetBrains Mono,Fira Code,monospace"
        font-size="12" font-weight="700">finish</text>
</g>

