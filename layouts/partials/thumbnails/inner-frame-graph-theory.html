{{/*  Inner artwork for "Frame Graph: Theory" thumbnail.
      Receives dict: .id (SVG-ID namespace)
      Modernised: value-line → 3-phase flow → outcome chips + decorative DAG  */}}
{{ $id := .id }}

{{/* ── Value line ──────────────────────────────────────────── */}}
<text x="54" y="256" fill="#b2c2de" font-family="Inter,system-ui,sans-serif"
      font-size="24" font-weight="520">The mental model for scheduling, barriers &amp; aliasing</text>

{{/* ── Three-phase flow: Declare → Compile → Execute ───────── */}}
<g transform="translate(54, 306)">
  {{/* DECLARE pill */}}
  <rect x="0" y="0" width="250" height="72" rx="36" fill="#152d4f"
        stroke="#60A5FA" stroke-opacity=".38" stroke-width="1.5"/>
  <text x="125" y="44" text-anchor="middle" fill="#c8deff"
        font-family="Inter,system-ui,sans-serif" font-size="26" font-weight="700">DECLARE</text>

  {{/* Arrow */}}
  <line x1="268" y1="36" x2="348" y2="36" stroke="#364f6e" stroke-width="2.5"/>
  <polygon points="346,30 360,36 346,42" fill="#364f6e"/>

  {{/* COMPILE pill */}}
  <rect x="374" y="0" width="250" height="72" rx="36" fill="#2e2413"
        stroke="#FBBF24" stroke-opacity=".38" stroke-width="1.5"/>
  <text x="499" y="44" text-anchor="middle" fill="#fde68a"
        font-family="Inter,system-ui,sans-serif" font-size="26" font-weight="700">COMPILE</text>

  {{/* Arrow */}}
  <line x1="642" y1="36" x2="722" y2="36" stroke="#364f6e" stroke-width="2.5"/>
  <polygon points="720,30 734,36 720,42" fill="#364f6e"/>

  {{/* EXECUTE pill */}}
  <rect x="748" y="0" width="250" height="72" rx="36" fill="#152e24"
        stroke="#22C55E" stroke-opacity=".38" stroke-width="1.5"/>
  <text x="873" y="44" text-anchor="middle" fill="#bbf7d0"
        font-family="Inter,system-ui,sans-serif" font-size="26" font-weight="700">EXECUTE</text>
</g>

{{/* ── Outcome chips ───────────────────────────────────────── */}}
<g transform="translate(54, 428)">
  <rect x="0" y="0" width="230" height="44" rx="10" fill="#0e1a2e"
        stroke="#3B82F6" stroke-opacity=".24" stroke-width="1"/>
  <text x="115" y="29" text-anchor="middle" fill="#6b92c0"
        font-family="Inter,system-ui,sans-serif" font-size="17" font-weight="640">DAG SCHEDULING</text>

  <rect x="248" y="0" width="270" height="44" rx="10" fill="#0e1a2e"
        stroke="#3B82F6" stroke-opacity=".24" stroke-width="1"/>
  <text x="383" y="29" text-anchor="middle" fill="#6b92c0"
        font-family="Inter,system-ui,sans-serif" font-size="17" font-weight="640">BARRIER INSERTION</text>

  <rect x="536" y="0" width="270" height="44" rx="10" fill="#0e1a2e"
        stroke="#3B82F6" stroke-opacity=".24" stroke-width="1"/>
  <text x="671" y="29" text-anchor="middle" fill="#6b92c0"
        font-family="Inter,system-ui,sans-serif" font-size="17" font-weight="640">MEMORY ALIASING</text>
</g>

{{/* ── Decorative mini-DAG (right side, atmospheric) ───────── */}}
<g transform="translate(1150, 280)" opacity=".3">
  <g stroke="#4a6a8f" stroke-width="2.5" fill="none" stroke-linecap="round">
    <path d="M130,20 L50,100"/>
    <path d="M130,20 L210,100"/>
    <path d="M50,140 L130,220"/>
    <path d="M210,140 L130,220"/>
    <path d="M130,260 L130,320"/>
  </g>
  <circle cx="130" cy="10" r="18" fill="#60A5FA" fill-opacity=".6"/>
  <circle cx="40" cy="120" r="18" fill="#60A5FA" fill-opacity=".5"/>
  <circle cx="220" cy="120" r="18" fill="#FBBF24" fill-opacity=".5"/>
  <circle cx="130" cy="240" r="18" fill="#FBBF24" fill-opacity=".5"/>
  <circle cx="130" cy="340" r="18" fill="#22C55E" fill-opacity=".6"/>
</g>
