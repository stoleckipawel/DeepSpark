{{/*
  Reusable right-side image panel for thumbnails.
  Full height, flush right edge, left-edge fade, no shadow.

  Params (dict):
    .id        – SVG-ID namespace (slug)
    .imageURL  – resolved URL for the image
*/}}
{{ $id  := .id }}
{{ $url := .imageURL }}

<defs>
  <linearGradient id="imgFade-{{ $id }}" x1="0" y1="0" x2="1" y2="0">
    {{/* Smoothstep-style fade: fully opaque → ease-out mid → ease-in tail → transparent */}}
    <stop offset="0%"   stop-color="#0b1526" stop-opacity="1"/>
    <stop offset="3%"   stop-color="#0b1526" stop-opacity="1"/>
    <stop offset="10%"  stop-color="#0b1526" stop-opacity=".92"/>
    <stop offset="19%"  stop-color="#0b1526" stop-opacity=".72"/>
    <stop offset="29%"  stop-color="#0b1526" stop-opacity=".42"/>
    <stop offset="37%"  stop-color="#0b1526" stop-opacity=".19"/>
    <stop offset="44%"  stop-color="#0b1526" stop-opacity=".07"/>
    <stop offset="50%"  stop-color="#0b1526" stop-opacity=".02"/>
    <stop offset="56%"  stop-color="#0b1526" stop-opacity=".005"/>
    <stop offset="100%" stop-color="#0b1526" stop-opacity="0"/>
  </linearGradient>
  <linearGradient id="imgVignette-{{ $id }}" x1="0" y1="0" x2="0" y2="1">
    <stop offset="0%"   stop-color="#070c18" stop-opacity=".45"/>
    <stop offset="12%"  stop-color="#070c18" stop-opacity="0"/>
    <stop offset="88%"  stop-color="#070c18" stop-opacity="0"/>
    <stop offset="100%" stop-color="#070c18" stop-opacity=".55"/>
  </linearGradient>
  <linearGradient id="imgSeamFix-{{ $id }}" x1="0" y1="0" x2="1" y2="0">
    <stop offset="0%"   stop-color="#0b1526" stop-opacity=".62"/>
    <stop offset="18%"  stop-color="#0b1526" stop-opacity=".34"/>
    <stop offset="55%"  stop-color="#0b1526" stop-opacity=".08"/>
    <stop offset="100%" stop-color="#0b1526" stop-opacity="0"/>
  </linearGradient>
  <clipPath id="imgClip-{{ $id }}">
    {{/* Sharp left edge, rounded right edge to match thumbnail border */}}
    <rect x="903" y="8" width="661" height="684"/>
    <rect x="1564" y="8" width="28" height="684" rx="28"/>
  </clipPath>
</defs>

<g clip-path="url(#imgClip-{{ $id }})">
  <image href="{{ $url }}" x="903" y="8" width="689" height="684"
         preserveAspectRatio="xMidYMid slice"/>
  <rect x="903" y="8" width="3" height="684" fill="#0b1526" fill-opacity=".82"/>
  <rect x="903" y="8" width="24" height="684" fill="url(#imgSeamFix-{{ $id }})"/>
  <rect x="903" y="8" width="689" height="684" fill="url(#imgFade-{{ $id }})"/>
  <rect x="903" y="8" width="689" height="684" fill="url(#imgVignette-{{ $id }})"/>
</g>
